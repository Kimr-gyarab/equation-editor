<div class="component">
  <app-input-equation></app-input-equation>
  <h2>Řešit rovnici:</h2>




  <div cdkDropListGroup class="equation-container">
    <div class="equation-side" id='left'>
      <app-equation-controler-node [node]=equation.leftSide [fontSize]='calcFontSize()'>
      </app-equation-controler-node>
    </div>
    <div class="equation-sign noselect">
      <ng-katex [equation]=equationSign style="font-size: calcFontSize();"></ng-katex>
    </div>
    <div class="equation-side" id='right'>
      <app-equation-controler-node [node]=equation.rightSide [fontSize]='calcFontSize()'>
      </app-equation-controler-node>
    </div>
  </div>


  <h3>Upravit:</h3>
  <input type="text" class="form-control col" (input)="actualizeUserInput($event.target.value);">
  <button class="btn btn-primary" (click)='clearSelection()'>Zrušit výběr</button>
  <button class="btn btn-primary" (click)="editEquation()">Nahradit</button>
  <button class="btn btn-primary" (click)="multiplyEquation()">Vynásobit rovnici</button>
  <button class="btn btn-primary" (click)="divideEquation()">Vydělit rovnici</button>
  <button class="btn btn-primary" (click)="swapSides()">Prohodit strany</button>
  <!--<button class="btn btn-primary" (click)="print()">Vypsat</button>-->
  <h3>Náhled:</h3>
  <div class="container-fluid">
    <div class="row justify-content-between">
      <div class="col-12 col-md-7" id="preview" #container>
        <div id="equationPreview">
          <!--<ng-container *ngIf="equationAsString.length === 0">
            Náhled není k dispozici
          </ng-container>
          <div #preview>
            <ng-katex [equation]="getAsLaTeX(equationAsString)" [ngStyle]="{'font-size': calcFontSize()}">
            </ng-katex>
          </div>-->
        </div>
      </div>
      <div class="col-12 col-md-4" id="errors">
        {{errMessage}}
      </div>
    </div>
  </div>


  <table>
    <tr *ngFor='let edit of edits; let i = index'>
      <td style="text-align: right;">
        <ng-katex [equation]="edit.split('=')[0]"></ng-katex>
      </td>
      <td style="text-align: center;">
        <ng-katex [equation]=equationSign></ng-katex>
      </td>
      <td style="text-align: left; size: 300;">
        <ng-katex [equation]="edit.split('=')[1]"></ng-katex>
      </td>
    </tr>
  </table>
</div>